apiVersion: v1
kind: Pod
metadata:
  name: nginx
spec:
  containers:
    - image: nginx
      name: nginx
      volumeMounts:
        - mountPath: /var/run/secrets/tokens
          name: token
  serviceAccountName: suvanjan-homelab
  volumes:
    - name: token
      projected:
        sources:
          - serviceAccountToken:
              path: token
              expirationSeconds: 3600
              audience: https://iam.googleapis.com/projects/941738172592/locations/global/workloadIdentityPools/homelab/providers/homelab-kubernetes-cluster
---
apiVersion: v1
kind: ServiceAccount
metadata:
  name: suvanjan-homelab
